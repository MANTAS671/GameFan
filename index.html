<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1" />
<meta name="theme-color" content="#0b0f14" />
<title>Next Gen 1.2 ‚Äî –¢—ã —Ç–æ—á–Ω–æ –Ω–µ –ê–ª–µ–∫—Å–µ–π?</title>
<link rel="preconnect" href="https://sfile.chatglm.cn" crossorigin>
<style>
  :root{
    --bg:#070b11; --bg2:#0d131c; --ink:#e8f0ff; --muted:#9db0c9;
    --card: rgba(255,255,255,.06); --card2: rgba(255,255,255,.12);
    --acc:#7dffb0; --acc2:#38d47a; --blue:#60a5fa; --vio:#b794f4; --amber:#fbbf24; --rose:#fb7185;
    --glass: rgba(255,255,255,.07);
    --shadow: 0 18px 56px rgba(0,0,0,.5); --r:20px;
  }
  @media (prefers-color-scheme: light){
    :root{ --bg:#f5f7fb; --bg2:#ffffff; --ink:#0e172a; --muted:#4a5d74; --card: rgba(0,0,0,.05); --card2: rgba(0,0,0,.08); --acc:#22c55e; --acc2:#16a34a; --blue:#2563eb; --vio:#7c3aed; --amber:#d97706; --rose:#e11d48; --shadow: 0 14px 34px rgba(0,0,0,.16) }
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
    color:var(--ink); background:radial-gradient(90% 65% at 50% -20%,#112136 0%,transparent 70%), var(--bg);
    min-height:100dvh; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    -webkit-tap-highlight-color: transparent; touch-action:manipulation;
    display:grid; place-items:center; padding:12px;
    overflow-x:hidden;
  }
  .wrap{ width:100%; max-width:900px; background:linear-gradient(180deg,var(--bg2) 0%,transparent 100%), var(--glass);
    border:1px solid var(--card2); border-radius:28px; box-shadow:var(--shadow); padding:16px; position:relative; overflow:hidden }

  /* –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã */
  .blob,.blob2,.blob3{ position:absolute; border-radius:50%; filter:blur(2px); opacity:.28; pointer-events:none }
  .blob{ right:-120px; top:-120px; width:320px; height:320px; background:radial-gradient(closest-side,var(--acc),transparent) }
  .blob2{ left:-140px; bottom:-140px; width:360px; height:360px; background:radial-gradient(closest-side,var(--blue),transparent) }
  .blob3{ right:20%; bottom:-160px; width:300px; height:300px; background:radial-gradient(closest-side,var(--vio),transparent) }

  /* –æ–±—â–∏–µ */
  .screen{ position:relative; z-index:1; animation:fade .28s ease both }
  @keyframes fade{from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:translateY(0)}}
  h1{ margin:6px 8px 8px; text-align:center; font-weight:900; letter-spacing:.3px; font-size:clamp(22px,5.6vw,40px);
      background:linear-gradient(90deg,#a7f3d0,#93c5fd,#e9d5ff); -webkit-background-clip:text; background-clip:text; color:transparent }
  .lead{ margin:0 auto 12px; text-align:center; color:var(--muted); font-size:clamp(14px,3.8vw,18px); background:var(--card2); padding:12px; border-radius:16px }

  .row{ display:flex; gap:10px; align-items:center; justify-content:center; flex-wrap:wrap }
  .btn{ appearance:none; border:0; cursor:pointer; user-select:none; color:#07140a; font-weight:900; letter-spacing:.2px;
    background:linear-gradient(180deg,var(--acc),var(--acc2));
    border-radius:16px; padding:14px 18px; min-width:170px; box-shadow:0 12px 26px rgba(50,205,50,.22);
    transition:transform .08s ease, filter .2s ease; font-size:16px }
  .btn:active{ transform:translateY(1px) scale(.99) }
  .btn.alt{ background:var(--card2); color:var(--ink); box-shadow:none }
  .btn.ghost{ background:transparent; color:var(--muted); box-shadow:none }
  .btn[disabled]{ opacity:.5; pointer-events:none }

  .progress{ width:100%; height:14px; background:var(--card); border-radius:12px; overflow:hidden; margin:4px 0 10px }
  .bar{ height:100%; width:0%; background:linear-gradient(90deg,var(--acc),var(--blue)); transition:width .25s ease }

  .counter{ text-align:center; color:var(--muted); font-size:14px; margin-bottom:6px }

  .hero{ width:100%; height:190px; margin:6px auto 12px; border-radius:18px; background:#111 center/cover no-repeat; box-shadow:0 8px 20px rgba(0,0,0,.28); display:flex; align-items:flex-end; overflow:hidden; transform-style:preserve-3d }
  .hero .caption{ background:linear-gradient(180deg,transparent,rgba(0,0,0,.6)); color:#fff; width:100%; padding:8px 10px; font-size:14px }
  .hero.tilt{ transition:transform .12s ease }

  .q{ font-size:clamp(16px,4.3vw,22px); background:var(--card2); border-radius:16px; padding:14px; margin-bottom:10px; position:relative; overflow:hidden }
  .q::after{ content:""; position:absolute; inset:0; background:radial-gradient(160px 40px at var(--mx,50%) -20px, rgba(125,255,176,.12), transparent 70%); pointer-events:none }

  .answers{ display:grid; gap:12px; margin-bottom:14px }
  .ans{ display:flex; gap:12px; align-items:center; padding:12px; background:rgba(125,255,176,.08); border:1px solid rgba(125,255,176,.22); border-radius:16px; transition:transform .08s ease, background .25s ease, box-shadow .25s ease, filter .25s ease; position:relative; overflow:hidden }
  .ans:hover{ background:rgba(125,255,176,.12) }
  .ans.selected{ background:rgba(125,255,176,.2); box-shadow:0 8px 22px rgba(0,0,0,.22) }
  .ans.disabled{ opacity:.62; pointer-events:none; filter:saturate(.7) }
  .ans img{ width:64px; height:64px; border-radius:14px; object-fit:cover; flex:0 0 64px; background:#222 }
  .ans label{ cursor:pointer; display:block; font-size:clamp(14px,3.8vw,16px) }
  .ans input{ accent-color:#34d399; transform:scale(1.15); margin-right:2px }

  /* –º–∏–Ω–∏‚Äë—á–∞—Å—Ç–∏—Ü—ã –ø—Ä–∏ –≤—ã–±–æ—Ä–µ */
  .spark{ position:absolute; width:8px; height:8px; border-radius:50%; background:currentColor; pointer-events:none; mix-blend-mode:screen; filter:blur(.4px); animation:spark .6s ease forwards }
  @keyframes spark{ to{ transform:translate(var(--dx),var(--dy)) scale(0.2); opacity:0 } }

  /* —Ç–æ—Å—Ç—ã */
  .toast{ position:fixed; left:50%; top:10px; transform:translateX(-50%); background:var(--bg2); border:1px solid var(--card2); padding:10px 12px; border-radius:14px; color:var(--ink); box-shadow:var(--shadow); display:none; z-index:60; max-width:92%; text-align:center }

  /* —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã */
  .result-title{ text-align:center; font-weight:900; font-size:clamp(20px,5vw,28px); margin:8px 0 6px }
  .result-desc{ text-align:center; color:var(--muted); font-size:clamp(14px,3.8vw,17px); background:var(--card2); border-radius:14px; padding:12px }
  .grid{ display:grid; gap:12px; grid-template-columns:1fr; margin:12px 0 }
  .card{ background:var(--card2); border:1px solid var(--card); border-radius:16px; padding:12px }
  .stat{ display:flex; align-items:center; gap:10px }
  .stat .bar{ height:10px; width:100%; border-radius:999px; background:var(--card); overflow:hidden }
  .stat .val{ height:100%; width:0%; background:linear-gradient(90deg,var(--amber),var(--rose)); transition:width .5s cubic-bezier(.2,.9,.2,1.1) }
  .badges{ display:flex; flex-wrap:wrap; gap:8px }
  .badge{ font-size:12px; padding:6px 8px; border-radius:999px; background:linear-gradient(180deg,#e9d5ff,#f5f3ff); color:#4c1d95; border:1px solid rgba(0,0,0,.06) }
  .frog{ display:none; width:120px; height:120px; margin:12px auto 8px; border-radius:50%; background:url('https://sfile.chatglm.cn/images-ppt/9b652a81470b.jpg') center/cover no-repeat; animation:pulse 1.8s ease-in-out infinite }
  @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}

  /* –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ */
  .confetti{ position:fixed; inset:0; pointer-events:none; z-index:80 }
  .piece{ position:absolute; width:8px; height:14px; background:var(--c); opacity:.9; transform:translate3d(0,0,0); animation:fall var(--t) cubic-bezier(.2,.9,.2,1) forwards }
  @keyframes fall{ to{ transform:translate3d(var(--x), 110vh, 0) rotate(var(--r)) } }

  @media (max-width:560px){ .hero{ height:170px } .wrap{ padding:14px } .ans img{ width:58px; height:58px } .btn{ padding:13px } }
  @media (prefers-reduced-motion: reduce){ .hero,.ans,.q,.spark,.frog{ animation:none !important } }
</style>
</head>
<body>
  <div class="wrap" role="application" aria-live="polite">
    <i class="blob" aria-hidden="true"></i><i class="blob2" aria-hidden="true"></i><i class="blob3" aria-hidden="true"></i>

    <!-- –°—Ç–∞—Ä—Ç -->
    <section class="screen" id="start">
      <h1>Next Gen 1.2 ‚Äî –¢—ã —Ç–æ—á–Ω–æ –Ω–µ –ê–ª–µ–∫—Å–µ–π?</h1>
      <p class="lead">–ì–∏–≥–∞–Ω—Ç—Å–∫–∏–π –∞–ø–¥–µ–π—Ç: –º–µ–º‚Äë–∫–∞—Ä—Ç–∏–Ω–∫–∏, –Ω–æ–≤—ã–µ —à—É—Ç–∫–∏, –ø–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏, –±–µ–∑ –∑–≤—É–∫–æ–≤ –∏ –≤–∏–±—Ä–∞—Ü–∏–π. –ú–æ–±–∏–ª–∫–∞ ‚Äî –∫–∞–∫ –¥–æ–º–∞, iOS –∏ Android ‚Äî —É–≤–∞–∂–∞–µ–º.</p>
      <div class="row">
        <button class="btn" id="startBtn">–°—Ç–∞—Ä—Ç</button>
      </div>
    </section>

    <!-- –ò–≥—Ä–∞ -->
    <section class="screen" id="quiz" hidden>
      <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>
      <div class="counter" id="counter"></div>
      <figure class="hero tilt" id="hero"><figcaption class="caption" id="heroCap"></figcaption></figure>
      <div class="q" id="q" role="heading" aria-level="2"></div>
      <div class="answers" id="answers" role="radiogroup" aria-label="–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞"></div>
      <div class="meta" id="meta"></div>
      <div class="row">
        <button class="btn alt" id="nextBtn" disabled>–î–∞–ª–µ–µ</button>
        <button class="btn ghost" id="backBtn">–ù–∞–∑–∞–¥</button>
      </div>
    </section>

    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
    <section class="screen" id="result" hidden>
      <h2 class="result-title" id="resTitle"></h2>
      <p class="result-desc" id="resDesc"></p>
      <div class="grid">
        <div class="card">
          <h3 style="margin:0 0 8px">–¢–≤–æ–∏ —à–∫–∞–ª—ã</h3>
          <div class="stat"><span style="min-width:120px">–ó–∞–≤–∏—Å—Ç—å –∫ –∂–µ–ª–µ–∑—É</span><div class="bar"><div class="val" id="sEnvy"></div></div></div>
          <div class="stat"><span style="min-width:120px">–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å</span><div class="bar"><div class="val" id="sDebt"></div></div></div>
          <div class="stat"><span style="min-width:120px">–¢—É–∞–ª–µ—Ç–Ω–∞—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è</span><div class="bar"><div class="val" id="sCope"></div></div></div>
        </div>
        <div class="card">
          <h3 style="margin:0 0 8px">–ê—á–∏–≤–∫–∏</h3>
          <div class="badges" id="badges"></div>
        </div>
      </div>
      <div class="frog" id="frog" title="–°–µ–∫—Ä–µ—Ç–Ω–∞—è –∂–∞–±–∞"></div>
      <div class="row">
        <button class="btn" id="shareBtn">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
        <button class="btn alt" id="restartBtn">–ï—â—ë —Ä–∞–∑</button>
      </div>
    </section>
  </div>

  <div class="toast" id="toast"></div>
  <canvas class="confetti" id="confetti" hidden></canvas>

<script>
/* ===== Next Gen 1.2 ‚Äî –æ–≥—Ä–æ–º–Ω—ã–π –ø–∞—Ç—á =====
   ‚Äî –ù–æ–≤—ã–µ —à—É—Ç–∫–∏/–æ—Ç–≤–µ—Ç—ã –≤ —Å—Ç–∏–ª–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç‚Äë—é–º–æ—Ä–∞, –Ω–æ –¥—Ä—É–∂–µ–ª—é–±–Ω–æ.
   ‚Äî –ú–µ–º‚Äë–∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –∏ –æ—Ç–≤–µ—Ç–∞—Ö, –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞.
   ‚Äî –£—Å–∏–ª–µ–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏: 3D‚Äëtilt –¥–ª—è —Ö–µ–¥–µ—Ä–∞, —á–∞—Å—Ç–∏—Ü—ã –ø—Ä–∏ —Ç–∞—á–µ, –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –Ω–∞ —Ñ–∏–Ω–∏—à–µ.
   ‚Äî –ë–µ–∑ –∑–≤—É–∫–æ–≤ –∏ –≤–∏–±—Ä–∞—Ü–∏–π. –ü—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–æ –∫ iOS/Android.
*/

/* –ú–µ–º‚Äë–ø—É–ª (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–≤–æ–∏ –ø—É—Ç–∏) */
const MEMES = [
  'https://sfile.chatglm.cn/images-ppt/dc68f2522b8a.jpg',
  'https://sfile.chatglm.cn/images-ppt/72d26cd3c9a2.jpg',
  'https://sfile.chatglm.cn/images-ppt/d6ba94ccd270.jpg',
  'https://sfile.chatglm.cn/images-ppt/94c6e701f06d.png',
  'https://sfile.chatglm.cn/images-ppt/5842861121bb.jpg',
  'https://sfile.chatglm.cn/images-ppt/4727ee8ef79d.jpeg',
  'https://sfile.chatglm.cn/images-ppt/e459fb381b08.jpg',
  'https://sfile.chatglm.cn/images-ppt/590bcaccd076.jpg',
  'https://sfile.chatglm.cn/images-ppt/baf2a18ee76a.jpg',
  'https://sfile.chatglm.cn/images-ppt/cfc3e245b2d7.jpg',
];
const pickMeme = ()=> MEMES[Math.floor(Math.random()*MEMES.length)];
const preload = (url)=>{ const img=new Image(); img.decoding='async'; img.loading='lazy'; img.src=url };

/* –í–æ–ø—Ä–æ—Å—ã/–æ—Ç–≤–µ—Ç—ã (–Ω–æ–≤—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ ‚Äî –ª—ë–≥–∫–∞—è –∏—Ä–æ–Ω–∏—è, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç‚Äë–≤–∞–π–±) */
const Q = [
  { q:'SSD –Ω–∞ 2 –¢–ë ‚Äî –±–µ—Ä—ë—à—å?', cap:'¬´Steam: 999+ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π. –¢—ã: –¥–∞–π –¥–≤–∞ —Ç–µ—Ä–∞–±–∞–π—Ç–∞¬ª', a:[
      {t:'–ë–µ—Ä—É. –•–æ—á—É –∂–∏—Ç—å –±–µ–∑ –¢–µ—Ç—Ä–∏—Å–∞ —Å —Ñ–∞–π–ª–∞–º–∏', v:{e:1,d:0,c:0}},
      {t:'–ñ–¥—É —Å–∫–∏–¥–∫–∏, –∫–∞–∫ –ø–∞—Ç—á–∞ –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è', v:{e:0,d:0,c:1}},
      {t:'–í —Ä–∞—Å—Å—Ä–æ—á–∫—É? –î–∞, –∫–∞–∫ –≤–∑—Ä–æ—Å–ª—ã–π —Ä–µ–±—ë–Ω–æ–∫', v:{e:1,d:2,c:0}},
      {t:'–û—Å—Ç–∞–≤–ª—é HDD –∫–∞–∫ –º—É–∑–µ–π –±–æ–ª–∏', v:{e:0,d:0,c:2}},
  ]},
  { q:'–î—Ä—É–≥ —Å–æ–±—Ä–∞–ª –ü–ö –º–µ—á—Ç—ã. –†–µ–∞–∫—Ü–∏—è?', cap:'¬´–û–Ω ‚Äî —É–ª—å—Ç—Ä–∞. –¢—ã ‚Äî –∏–Ω—Ç–µ—Ä–≤–µ–Ω—Ç –Ω–∞ —Å—Ä–µ–¥–Ω–∏—Ö¬ª', a:[
      {t:'–°—Ç–∞–≤–ª—é –ª–∞–π–∫, –ø–ª–∞—á—É –≤–Ω—É—Ç—Ä–∏, —à—É—á—É —Å–Ω–∞—Ä—É–∂–∏', v:{e:1,d:1,c:1}},
      {t:'‚Äú–¢–∞ —Ö–∞–π‚Ä¶‚Äù. –ê–ø–≥—Ä–µ–π–∂—É –Ω–æ—Å–∫–∏ –∏ —Å–∞–º–æ–æ—Ü–µ–Ω–∫—É', v:{e:0,d:0,c:1}},
      {t:'–°–æ–±–∏—Ä–∞—é –∫–æ—Ä–∑–∏–Ω—É –Ω–∞ –≤–¥–æ—Ö–µ, –Ω–∞ –≤—ã–¥–æ—Ö–µ ‚Äî –∫—Ä–µ–¥–∏—Ç', v:{e:2,d:2,c:0}},
      {t:'–ò–¥—É —Ç–µ—Å—Ç–∏—Ç—å —É –Ω–µ–≥–æ ‚Äî –æ—Ç–ø—É—Å–∫–∞–µ—Ç —á–µ—Ä–µ–∑ 30 FPS', v:{e:0,d:0,c:0}},
  ]},
  { q:'–û—Ç–Ω–æ—à–µ–Ω–∏—è –¥–∞–ª–∏ —Å–∏–Ω—é—é —ç–∫—Ä–∞–Ω—É. –î–∞–ª—å—à–µ?', cap:'¬´CTRL+ALT+–£–≤–∞–∂–µ–Ω–∏–µ –∫ —Å–µ–±–µ¬ª', a:[
      {t:'–í—ã—Ö–æ–∂—É –∏–∑ –∫–≤–µ—Å—Ç–∞ –±–µ–∑ —Å–∫–∞–Ω–¥–∞–ª–∞', v:{e:0,d:0,c:2}},
      {t:'–°–∫–æ—Ä–æ –±—É–¥—É: —Å–ø–∏–¥—Ä–∞–Ω –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–∞ —Å –∏–≥—Ä–∞–º–∏', v:{e:1,d:0,c:2}},
      {t:'Retail‚Äë—Ç–µ—Ä–∞–ø–∏—è: –≤–∏–¥—è—Ö–∞ –ª–µ—á–∏—Ç –≤—Å—ë (–Ω–µ—Ç)', v:{e:1,d:2,c:0}},
      {t:'–ó–∞–ª/–∫–Ω–∏–∂–∫–∞/–¥—Ä—É–∑—å—è ‚Äî –ø–∞—Ç—á –∫ –∂–∏–∑–Ω–∏', v:{e:0,d:0,c:1}},
  ]},
  { q:'–í—ã—Ö–æ–¥–Ω–æ–π –º–µ—á—Ç—ã?', cap:'¬´IRL –∏ URL –≤ –±–∞–ª–∞–Ω—Å–µ¬ª', a:[
      {t:'–ê—Å—Å–∞—Å–∏–Ω + –≥–æ—Ç–æ–≤–ª—é —á—Ç–æ‚Äë—Ç–æ —Å—ä–µ–¥–æ–±–Ω–æ–µ', v:{e:0,d:0,c:1}},
      {t:'6 —á–∞—Å–æ–≤ —Å—Ä–∞–≤–Ω–∏–≤–∞—é —Ü–µ–Ω—ã –∏ —Å—Ç—Ä–∞–¥–∞—é –∫—Ä–∞—Å–∏–≤–æ', v:{e:2,d:1,c:0}},
      {t:'–£–ª–∏—Ü–∞/—Å–ø–æ—Ä—Ç/–¥—Ä—É–∑—å—è, –≤–µ—á–µ—Ä–æ–º —Ä–µ–π–¥', v:{e:0,d:0,c:0}},
      {t:'–°–æ—Ä—Ç–∏—Ä‚Äë—Ñ–∏–ª–æ—Å–æ—Ñ, –º—ã—Å–ª–∏ –∫–∞–∫ RTX ON', v:{e:0,d:0,c:2}},
  ]},
  { q:'–ù–æ—Å–∫–∏ –≤ –¥—ã—Ä–∫–∞—Ö. –ß—Ç–æ –ø–æ –ø–ª–∞–Ω—É?', cap:'¬´–ê–ø–≥—Ä–µ–π–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø–µ—Ä–µ—Ñ–∏—Ä–∏–∏¬ª', a:[
      {t:'–®—å—é ‚Äî –º–∏–Ω—É—Å —Å—Ç—ã–¥, –ø–ª—é—Å –±—é–¥–∂–µ—Ç', v:{e:0,d:0,c:1}},
      {t:'–ü–∞—á–∫–∞ –Ω–æ–≤—ã—Ö —Å RGB –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ–º', v:{e:1,d:1,c:0}},
      {t:'–ö—Ä–æ—Å—Å—ã —Å–ø–∞—Å—É—Ç ‚Äî –≤–∏–∂—É, –Ω–µ —Å–ª—ã—à—É', v:{e:0,d:0,c:0}},
      {t:'–í—Ç–æ—Ä–∞—è –∂–∏–∑–Ω—å: —É–±–æ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–∏–∫–∞', v:{e:0,d:0,c:2}},
  ]},
  { q:'S.T.A.L.K.E.R. 2 –Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–µ', cap:'¬´–í—ã–±—Ä–æ—Å —ç–º–æ—Ü–∏–π: –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å 100%¬ª', a:[
      {t:'–ü—Ä–µ–¥–∑–∞–∫–∞–∑ –∫–∞–∫ –æ–±–µ—Ç: –≤–µ—Ä—é –∏ –∂–¥—É', v:{e:1,d:1,c:0}},
      {t:'–ü–æ–¥–æ–∂–¥—É –ø–∞—Ä—É –ø–∞—Ç—á–µ–π, —è –Ω–µ —Å–ø—Ä–∏–Ω—Ç–µ—Ä', v:{e:0,d:0,c:1}},
      {t:'–°–æ–±–∏—Ä–∞—é —É–ª—å—Ç—Ä–∞‚Äë—Ä–∏–≥, –¥–∞–∂–µ –µ—Å–ª–∏ —É –º–µ–Ω—è –∫—É—Ö–Ω—è', v:{e:2,d:2,c:0}},
      {t:'–ü–µ—Ä–µ–ø—Ä–æ—Ö–æ–∂—É –∫–ª–∞—Å—Å–∏–∫—É, –∫–∞–π—Ñ —Å—Ç–∞–±–∏–ª–µ–Ω', v:{e:0,d:0,c:1}},
  ]},
  { q:'–î–µ–Ω—å–≥–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –¥–æ –∞–ø–≥—Ä–µ–π–¥–∞', cap:'¬´–ë–∞–ª–∞–Ω—Å —Å–æ —Å—á—ë—Ç–æ–º –¥—Ä—É–∂–∏—Ç –ª—É—á—à–µ, —á–µ–º RGB¬ª', a:[
      {t:'–ë/—É —Ä—ã–Ω–æ–∫ + –ø—Ä–æ–¥–∞—é —Å—Ç–∞—Ä–æ–µ ‚Äî —á–∏—Å—Ç—ã–π –ø—Ä–æ—Ñ–∏—Ç', v:{e:0,d:0,c:1}},
      {t:'–ö—Ä–µ–¥–∏—Ç–∫–∞ ‚Äî –º–æ–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –±–æ—Å—Å', v:{e:1,d:2,c:0}},
      {t:'–ü–ª–∞–Ω –ë, –ø–∞—É–∑–∞ –ª—É—á—à–µ –º–∏–Ω—É—Å–∞', v:{e:0,d:0,c:2}},
      {t:'–ü–æ–¥—Ä–∞–±–æ—Ç–∫–∞‚Äë–∫–≤–µ—Å—Ç —Ä–∞–¥–∏ –º–µ—á—Ç—ã', v:{e:0,d:0,c:0}},
  ]},
  { q:'–ö—É—Ä—Å ¬´+100 FPS –∑–∞ –¥–µ–Ω—å¬ª', cap:'¬´–ï—Å–ª–∏ –∑–≤—É—á–∏—Ç –∫–∞–∫ –º–∞–≥–∏—è ‚Äî –ø—Ä–æ–≤–µ—Ä—å –¥–æ–≥–æ–≤–æ—Ä¬ª', a:[
      {t:'–Æ—Ç—É–±/—Ñ–æ—Ä—É–º—ã/–¥–æ–∫–∏ ‚Äî —Å–Ω–∞—á–∞–ª–∞ –±–∞–∑–∞', v:{e:0,d:0,c:1}},
      {t:'–ü–æ–∫—É–ø–∞—é –Ω–∞ —ç–º–æ—Ü–∏—è—Ö, –ø–æ—Ç–æ–º —á–∏—Ç–∞—é –æ—Ç–∑—ã–≤—ã', v:{e:1,d:2,c:0}},
      {t:'–í –∑–∞–∫–ª–∞–¥–∫–∏, –≤–µ—Ä–Ω—É—Å—å —Ç—Ä–µ–∑–≤–æ', v:{e:0,d:0,c:2}},
      {t:'–°–ø—Ä–æ—à—É —É —Å–≤–æ–∏—Ö, —Å—Ä–∞–≤–Ω—é –ø–æ —Ñ–∞–∫—Ç–∞–º', v:{e:0,d:0,c:0}},
  ]},
  { q:'–î—Ä—É–≥ —Å –Ω–æ–≤—ã–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º', cap:'¬´–û–Ω —Å–Ω–∏–º–∞–µ—Ç –õ—É–Ω—É, —Ç—ã ‚Äî —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å¬ª', a:[
      {t:'–†–∞–¥ –∑–∞ –Ω–µ–≥–æ. –£ –º–µ–Ω—è –∏ —Ç–∞–∫ –≤—Å—ë –ª–µ—Ç–∏—Ç', v:{e:0,d:0,c:0}},
      {t:'–°–º–æ—Ç—Ä—é –æ–±–∑–æ—Ä—ã, —Å—á–∏—Ç–∞—é —Å–º—ã—Å–ª –∞–ø–≥—Ä–µ–π–¥–∞', v:{e:1,d:0,c:1}},
      {t:'–†–∞—Å—Å—Ä–æ—á–∫–∞? –ê–ª–ª–æ, –±–∞–Ω–∫', v:{e:1,d:2,c:0}},
      {t:'–ü–æ–º–µ–Ω—è–ª –±–∞—Ç–∞—Ä–µ—é ‚Äî –∏ —Ç–µ–ª–µ—Ñ–æ–Ω –æ–∂–∏–ª', v:{e:0,d:0,c:2}},
  ]},
  { q:'–î–æ –∑–∞—Ä–ø–ª–∞—Ç—ã –¥–≤–µ –Ω–µ–¥–µ–ª–∏', cap:'¬´–ë—ç–∫–ª–æ–≥ –∑–æ–≤—ë—Ç, –∫–æ—à–µ–ª—ë–∫ –±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç¬ª', a:[
      {t:'–ò–Ω–¥–∏‚Äë–∞–ª–º–∞–∑—ã + —á–∞–π –∏–∑ –∫—Ä—É–∂–∫–∏ —Å—á–∞—Å—Ç—å—è', v:{e:0,d:0,c:1}},
      {t:'–ú–æ–Ω–∏—Ç–æ—Ä—é —Ü–µ–Ω—ã –¥–æ —Ä–∞—Å—Å–≤–µ—Ç–∞, –≥—Ä—É—â—É –∫—Ä–∞—Å–∏–≤–æ', v:{e:2,d:1,c:0}},
      {t:'–û—Ñ—Ñ–ª–∞–π–Ω‚Äë–≤—ã—Ö–æ–¥–Ω—ã–µ: –ø–∞—Ä–∫, –ª—é–¥–∏, —Å–æ–ª–Ω—Ü–µ', v:{e:0,d:0,c:2}},
      {t:'–°—Ç—Ä–∏–º–ª—é –¥—Ä—É–∑—å—è–º. –í–µ—Å–µ–ª–æ –∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ', v:{e:0,d:0,c:0}},
  ]},
  { q:'–ê—Å—Å–∞—Å–∏–Ω—ã vs. —Ä–µ–∂–∏–º –¥–Ω—è', cap:'¬´–°–µ–π–≤‚Äë–ª–æ–∞–¥ IRL –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω¬ª', a:[
      {t:'1‚Äë2 –º–∏—Å—Å–∏–∏ –∏ —Å–ø–∞—Ç—å –ø–æ —Ç–∞–π–º–µ—Ä—É', v:{e:0,d:0,c:1}},
      {t:'–ú–∞—Ä–∞—Ñ–æ–Ω –¥–æ —É—Ç—Ä–∞. –ù–æ–ª—å —Å–æ–∂–∞–ª–µ–Ω–∏–π', v:{e:0,d:0,c:0}},
      {t:'DLC –ø–æ —ç–º–æ—Ü–∏—è–º ‚Äî –±–µ—Ä—É –º–≥–Ω–æ–≤–µ–Ω–Ω–æ', v:{e:0,d:2,c:0}},
      {t:'–¢–∞–π–º–µ—Ä‚Äë–ª–∏–º–∏—Ç –∏ –≤–æ–¥—ã —Å—Ç–∞–∫–∞–Ω', v:{e:0,d:0,c:2}},
  ]},
  { q:'RGB‚Äë–ø–æ–¥—Å–≤–µ—Ç–∫–∞', cap:'¬´–°–≤–µ—Ç –±–µ–∑ —Å–º—ã—Å–ª–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–≤–µ—Ç¬ª', a:[
      {t:'–°–Ω–∞—á–∞–ª–∞ –ë–ü/–æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ, –ø–æ—Ç–æ–º —Ä–∞–¥—É–≥–∞', v:{e:0,d:0,c:1}},
      {t:'RGB –≤–µ–∑–¥–µ. –Ø ‚Äî –Ω–æ–≤–æ–≥–æ–¥–Ω—è—è —ë–ª–∫–∞', v:{e:1,d:1,c:0}},
      {t:'–ï—Å–ª–∏ –∫—Ä–∞—Å–∏–≤–æ –∏ –¥—ë—à–µ–≤–æ ‚Äî why not', v:{e:0,d:0,c:0}},
      {t:'–ú–Ω–µ –±—ã FPS, –∞ –Ω–µ –≥–ª—è–Ω–µ—Ü', v:{e:0,d:0,c:2}},
  ]},
  { q:'–ù–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä —É –¥—Ä—É–≥–∞', cap:'¬´–î—é–π–º—ã ‚Äî –Ω–µ –≤—Å—ë. –í–∞–∂–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –∏ –º–æ–∑–≥–∏¬ª', a:[
      {t:'–°—Ö–æ–∂—É –≥–ª—è–Ω—É—Ç—å IRL, —Å—Ä–∞–≤–Ω—é –º–∞—Ç—Ä–∏—Ü—ã', v:{e:0,d:0,c:0}},
      {t:'–°—Ä–∞–∑—É 32‚Ä≥ –≤ –∫–æ—Ä–∑–∏–Ω—É. –ù–µ —Ç–æ—Ä–º–æ–∂—É', v:{e:1,d:2,c:0}},
      {t:'–î–æ–±–∞–≤–ª—è—é –≤ —Ü–µ–ª–∏. –°–ø–æ–∫–æ–π–Ω–æ –∫–æ–ø–ª—é', v:{e:1,d:0,c:1}},
      {t:'–¢—é–Ω—é —Å–≤–æ–π: –≥–∞–º–º–∞/—è—Ä–∫–æ—Å—Ç—å/–ø—Ä–æ—Ñ–∏–ª–∏', v:{e:0,d:0,c:2}},
  ]},
  { q:'–ò–≥—Ä–æ–≤–æ–µ –∫—Ä–µ—Å–ª–æ', cap:'¬´–û—Å–Ω–æ–≤–∞ ‚Äî —Å–ø–∏–Ω–∞. –û—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî —Å–∫–∏–Ω¬ª', a:[
      {t:'–ê–ø–≥—Ä–µ–π–∂—É —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ —Ü–µ–ª–∏–∫–æ–º', v:{e:0,d:0,c:2}},
      {t:'–ë–µ—Ä—É —Ö–æ—Ä–æ—à–µ–µ –Ω–∞ —Å–∫–∏–¥–∫–µ', v:{e:0,d:0,c:1}},
      {t:'–§—É–ª–ª –ø—Ä–∞–π—Å –∏ —Ä–∞—Å—Å—Ä–æ—á–∫–∞ ‚Äî –º–æ–π –ø—É—Ç—å', v:{e:0,d:2,c:0}},
      {t:'–ü–æ–∫–∞ —Å—Ç—É–ª + –ø–µ—Ä–µ—Ä—ã–≤—ã –ø–æ —É–º—É', v:{e:0,d:0,c:0}},
  ]},
];

/* –†–∞–Ω–≥–∏ –∏ —Ç–æ—Å—Ç—ã */
const RANKS = [
  {id:'calm', title:'üßä –•–ª–∞–¥–Ω–æ–∫—Ä–æ–≤–Ω—ã–π –∞–ø–≥—Ä–µ–π–¥–µ—Ä', desc:'–°–º–æ—Ç—Ä–∏—à—å –Ω–∞ –∂–µ–ª–µ–∑–æ —Ç—Ä–µ–∑–≤–æ, –¥–µ–Ω—å–≥–∏ ‚Äî –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º, –∂–∏–∑–Ω—å ‚Äî –Ω–µ —Ç–æ–ª—å–∫–æ FPS.'},
  {id:'hybrid', title:'‚öñÔ∏è –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫', desc:'–ú–µ–∂–¥—É ‚Äú—Ö–æ—á—É‚Äù –∏ ‚Äú–Ω–∞–¥–æ‚Äù —Ç—ã —Ç–æ—Ä–≥—É–µ—à—å—Å—è —Å —Ç–∞–ª–∞–Ω—Ç–æ–º. –ö—Ä–µ–¥–∏—Ç —Ä–µ–∂–µ, –≥–æ–ª–æ–≤–∞ —á–∞—â–µ.'},
  {id:'a_like', title:'üíª –ü–æ—á—Ç–∏ –ê–ª–µ–∫—Å–µ–π', desc:'–ì–ª–∞–∑–∞ –≥–æ—Ä—è—Ç, –∫–æ—Ä–∑–∏–Ω–∞ —Ç–æ–∂–µ. –ü–ª–∞–Ω + –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ ‚Äî –∏ –±—É–¥–µ—Ç —Ç–æ–ø.'},
  {id:'full_a', title:'üß¶ 100% –ê–ª–µ–∫—Å–µ–π', desc:'–ñ–∏–≤—ë—à—å –∞–ø–≥—Ä–µ–π–¥–æ–º. –î–æ–±–∞–≤—å —Ä–µ–∂–∏–º–∞ ‚Äî –∏ –∂–∏–∑–Ω—å —Å—Ç–∞–Ω–µ—Ç —Ä–æ–≤–Ω–µ–µ.'}
];
const TOASTS = [
  '–õ—É—á—à–∏–π –∞–ø–≥—Ä–µ–π–¥ ‚Äî —Ç–æ—Ç, —á—Ç–æ —Ä–µ—à–∞–µ—Ç –±–æ–ª—å.',
  'RGB –±–µ–∑ –ë–ü ‚Äî –∫–∞–∫ —Ç—é–Ω–∏–Ω–≥ –±–µ–∑ –º–æ—Ç–æ—Ä–∞.',
  '–°–∫–∏–¥–∫–∞ ‚Äî –Ω–µ –ø—Ä–∏—á–∏–Ω–∞, –∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—Ä–≤–æ–≤.',
  '–ñ–∞–¥–Ω—ã–π –¥–æ FPS? –ü—Ä–æ–≤–µ—Ä—å –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ.',
  '–ò–Ω–æ–≥–¥–∞ ‚Äú–ø–æ–¥–æ–∂–¥–∞—Ç—å‚Äù ‚Äî —ç—Ç–æ –Ω–∞–≤—ã–∫ S‚Äë—Ä–∞–Ω–≥–∞.',
  '–ë/—É —Ä—ã–Ω–æ–∫ ‚Äî —Ç—ë–º–Ω—ã–π –ª–µ—Å —Å –∑–æ–ª–æ—Ç–æ–º.',
  '–°–æ—Ö—Ä–∞–Ω—è–π—Å—è –∏ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏.'
];

/* –°–æ—Å—Ç–æ—è–Ω–∏–µ/—ç–ª–µ–º–µ–Ω—Ç—ã */
let i=0; let envy=0, debt=0, cope=0; let picked=null; let streakSame=0; let selIndex=[]; let lastIdx=null;
const $ = s => document.querySelector(s);
const start = $('#start'); const quiz = $('#quiz'); const result = $('#result');
const bar = $('#bar'); const counter = $('#counter'); const hero = $('#hero'); const heroCap = $('#heroCap');
const qEl = $('#q'); const answers = $('#answers'); const meta = $('#meta');
const nextBtn = $('#nextBtn'); const backBtn = $('#backBtn'); const startBtn = $('#startBtn'); const restartBtn = $('#restartBtn');
const resTitle = $('#resTitle'); const resDesc = $('#resDesc'); const sEnvy = $('#sEnvy'); const sDebt = $('#sDebt'); const sCope = $('#sCope');
const badges = $('#badges'); const frog = $('#frog'); const toast = $('#toast'); const shareBtn = $('#shareBtn');
const confetti = $('#confetti'); const ctx = confetti.getContext('2d');

/* –•—ç–Ω–¥–ª–µ—Ä—ã */
startBtn.addEventListener('click',()=>{ i=0; envy=0; debt=0; cope=0; streakSame=0; picked=null; selIndex=[]; lastIdx=null; hide(start); show(quiz); render() });
backBtn.addEventListener('click',()=>{ if(i===0){ hide(quiz); show(start); return } i=Math.max(0,i-1); recompute(); frog.style.display='none'; render() });
restartBtn.addEventListener('click',()=>{ hide(result); show(start) });
nextBtn.addEventListener('click',()=>{ i++; if(i<Q.length) render(); else finish() });

function recompute(){ envy=debt=cope=0; for(let k=0;k<i;k++){ const sel = selIndex[k]; if(sel!=null){ const v=Q[k].a[sel].v; envy+=v.e; debt+=v.d; cope+=v.c } } }

/* –†–µ–Ω–¥–µ—Ä —à–∞–≥–∞ */
function render(){
  nextBtn.disabled = true; picked=null; answers.innerHTML=''; meta.innerHTML='';
  const total = Q.length; const q = Q[i];
  const progress = ((i+1)/total)*100; bar.style.width = progress.toFixed(1)+'%';
  counter.textContent = `–í–æ–ø—Ä–æ—Å ${i+1} –∏–∑ ${total}`;

  // –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π –º–µ–º + –ø–æ–¥–ø–∏—Å—å
  const heroImg = pickMeme(); hero.style.backgroundImage = `url('${heroImg}')`; heroCap.textContent = q.cap || '';
  qEl.textContent = q.q;

  // –ø–æ–¥—Å–∫–∞–∑–∫–∏
  (tipsFor(i)).forEach(t=>{ const c=document.createElement('span'); c.className='chip'; c.textContent=t; meta.appendChild(c) });

  // –æ—Ç–≤–µ—Ç—ã + –∫–∞—Ä—Ç–∏–Ω–∫–∏, –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞
  q.a.forEach((ans,idx)=>{
    const img = pickMeme(); if(idx<2) preload(img);
    const row = document.createElement('div'); row.className='ans';
    row.innerHTML = `
      <img src="${img}" alt="–º–µ–º –ü–ö" loading="lazy" decoding="async">
      <div style="display:flex;align-items:center;gap:8px">
        <input type="radio" id="a${i}_${idx}" name="q${i}" value="${idx}">
        <label for="a${i}_${idx}">${ans.t}</label>
      </div>`;
    row.addEventListener('click',(e)=>pick(idx,row,ans.v,e));
    answers.appendChild(row);
  });

  // tilt‚Äë—ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è hero
  hero.onmousemove = (e)=>{
    const r = hero.getBoundingClientRect(); const x = (e.clientX - r.left)/r.width - .5; const y = (e.clientY - r.top)/r.height - .5;
    hero.style.transform = `perspective(700px) rotateY(${x*6}deg) rotateX(${ -y*6}deg)`; qEl.style.setProperty('--mx', `${(x+.5)*100}%`)
  };
  hero.onmouseleave = ()=>{ hero.style.transform='perspective(700px) rotateY(0deg) rotateX(0deg)'; };

  // –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–±–æ—Ä
  if(selIndex[i]!=null){ const el = answers.children[selIndex[i]]; if(el){ el.classList.add('selected'); [...answers.children].forEach((x,k)=>k!==selIndex[i]&&x.classList.add('disabled')); nextBtn.disabled=false } }
}

/* –ö–ª–∏–∫ –ø–æ –æ—Ç–≤–µ—Ç—É: —á–∞—Å—Ç–∏—Ü—ã + –ª–æ–≥–∏–∫–∞ */
function pick(idx,row,v,evt){ if(picked!=null) return; picked=idx; selIndex[i]=idx;
  [...answers.children].forEach((el,k)=>{ if(k===idx) el.classList.add('selected'); else el.classList.add('disabled') });
  // –ø–∞—Å—Ö–∞–ª–∫–∞
  if(lastIdx===idx){ streakSame++; if(streakSame>=2) frog.style.display='block' } else { streakSame=0; frog.style.display='none' }
  lastIdx = idx;
  // –æ—á–∫–∏
  envy += v.e; debt += v.d; cope += v.c; nextBtn.disabled=false;
  // —á–∞—Å—Ç–∏—Ü—ã
  burst(row, evt?.clientX, evt?.clientY);
  toastMsg(randomPick(TOASTS), 1400);
}

/* –§–∏–Ω–∏—à: —Ä–∞–Ω–≥–∏, –∞—á–∏–≤–∫–∏, –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ */
function finish(){ hide(quiz); show(result);
  const max = 2*Q.length; const pe = Math.round((envy/max)*100); const pd = Math.round((debt/max)*100); const pc = Math.round((cope/max)*100);
  sEnvy.style.width = pe+'%'; sDebt.style.width = pd+'%'; sCope.style.width = pc+'%';
  const score = pe*0.4 + pd*0.4 + pc*0.2; let rank = RANKS[0];
  if(score>35 && score<=55) rank=RANKS[1]; else if(score>55 && score<=75) rank=RANKS[2]; else if(score>75) rank=RANKS[3];
  resTitle.textContent = rank.title; resDesc.textContent = rank.desc;
  badges.innerHTML=''; if(pe>=70) addBadge('–ñ–µ–ª–µ–∑–Ω—ã–π –∑–∞–≤–∏—Å—Ç–Ω–∏–∫'); if(pd>=60) addBadge('–ò–º–ø—É–ª—å—Å –∫—Ä–µ–¥–∏—Ç–∫–∏'); if(pc>=60) addBadge('–ú—ã—Å–ª–∏—Ç–µ–ª—å —Å–∞–Ω—É–∑–ª–∞'); if(pe<=25 && pd<=25) addBadge('–°—Ç–∞–ª—å–Ω–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä'); if(score>=80) addBadge('–ê–ª–µ–∫—Å–µ–π Supreme');
  confettiShow();
}

/* –°–µ—Ä–≤–∏—Å–Ω—ã–µ */
function addBadge(text){ const b=document.createElement('span'); b.className='badge'; b.textContent=text; badges.appendChild(b) }
function randomPick(arr){ return arr[Math.floor(Math.random()*arr.length)] }
function toastMsg(text,ms=1200){ toast.textContent=text; toast.style.display='block'; clearTimeout(toast._t); toast._t=setTimeout(()=>toast.style.display='none', ms) }
function show(el){ el.hidden=false } function hide(el){ el.hidden=true }
function tipsFor(i){
  const map = {
    0:['–ù–µ –≤—Å–µ —Ç–µ—Ä–∞–±–∞–π—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ –ø–æ–ª–µ–∑–Ω—ã.'],
    1:['–ß–µ—Å—Ç–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –∑–∞–≤–∏—Å—Ç—å –º–æ–ª—á–∞.'],
    2:['–ò–Ω–æ–≥–¥–∞ –ª—É—á—à–∏–π –∞–ø–≥—Ä–µ–π–¥ ‚Äî —É–π—Ç–∏ –≤ –æ—Ñ–ª–∞–π–Ω.'],
    3:['–ò–≥—Ä–∞–µ—à—å –∏ –∂–∏–≤—ë—à—å ‚Äî –æ–±–∞ –∞–ø–≥—Ä–µ–π–¥–∞ –≤–∞–∂–Ω—ã.'],
    4:['–ë–æ–ª—å—à–∏–µ –∞–ø–≥—Ä–µ–π–¥—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –º–µ–ª–æ—á–µ–π.'],
    5:['–ì—Ä—è–¥—ë—Ç –≤—ã–±—Ä–æ—Å ‚Äî –¥–µ—Ä–∂–∏ —à–∞–ø–∫—É.'],
    6:['–ï—Å—Ç—å –ø—É—Ç—å –±–µ–∑ –º–∏–Ω—É—Å–æ–≤ –ø–æ —Å—á—ë—Ç—É.'],
    7:['‚Äú+100 FPS –∑–∞ –¥–µ–Ω—å‚Äù ‚Äî –ø—Ä–æ–≤–µ—Ä—å –º–µ–ª–∫–∏–π —à—Ä–∏—Ñ—Ç.'],
    8:['–¢–µ–ª–µ—Ñ–æ–Ω ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –Ω–µ —Å—Ç–∞—Ç—É—Å.'],
    9:['Backlog –∏–≥—Ä ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –∑–æ–ª–æ—Ç–æ.'],
    10:['–°–æ—Ö—Ä–∞–Ω—è–π—Å—è –∏ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏.'],
    11:['–°–≤–µ—Ç ‚Äî —Ö–æ—Ä–æ—à–æ, —Å–º—ã—Å–ª ‚Äî –ª—É—á—à–µ.'],
    12:['–î—é–π–º—ã ‚Äî –Ω–µ –≤—Å—ë. –í–∞–∂–Ω–∞ –º–∞—Ç—Ä–∏—Ü–∞.'],
    13:['–°–ø–∏–Ω–∞ –≤–∞–∂–Ω–µ–µ –ø–æ–¥—É—à–∫–∏.']
  }; return map[i]||[];
}

/* –ß–∞—Å—Ç–∏—Ü—ã –ø—Ä–∏ –≤—ã–±–æ—Ä–µ */
function burst(node, cx, cy){
  const rect = node.getBoundingClientRect();
  const x = (cx||rect.left+rect.width/2) - rect.left; const y = (cy||rect.top+rect.height/2) - rect.top;
  for(let k=0;k<14;k++){
    const s = document.createElement('i'); s.className='spark'; s.style.left = x+'px'; s.style.top = y+'px';
    const a = Math.random()*Math.PI*2; const d = 60 + Math.random()*60;
    s.style.setProperty('--dx', Math.cos(a)*d + 'px'); s.style.setProperty('--dy', Math.sin(a)*d + 'px');
    s.style.color = ['#7dffb0','#60a5fa','#b794f4','#fbbf24','#fb7185'][k%5]; node.appendChild(s);
    setTimeout(()=> s.remove(), 700);
  }
}

/* –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ —Ö–æ–ª—Å—Ç */
function confettiShow(){ confetti.width = innerWidth; confetti.height = innerHeight; confetti.hidden=false; ctx.clearRect(0,0,confetti.width,confetti.height);
  const pieces=[]; const colors=['#7dffb0','#60a5fa','#b794f4','#fbbf24','#fb7185'];
  for(let k=0;k<110;k++){
    pieces.push({x: Math.random()*confetti.width, y: -10-Math.random()*200, vy: 2+Math.random()*4, vx: -1+Math.random()*2, w:6+Math.random()*6, h:10+Math.random()*10, c: colors[k%colors.length], r: Math.random()*6});
  }
  let t=0; const tick=()=>{ ctx.clearRect(0,0,confetti.width,confetti.height); t+=1/60;
    for(const p of pieces){ p.x+=p.vx; p.y+=p.vy; p.r+=0.06; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.r); ctx.fillStyle=p.c; ctx.fillRect(-p.w/2,-p.h/2,p.w,p.h); ctx.restore(); }
    if(t<2.2) requestAnimationFrame(tick); else confetti.hidden=true; };
  requestAnimationFrame(tick);
}

/* –®–µ—Ä–∏–Ω–≥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ */
shareBtn.addEventListener('click', async ()=>{
  const t = resTitle.textContent; const d = resDesc.textContent; const url = location.href;
  if(navigator.share){ try{ await navigator.share({ title:t, text:`${t}
${d}`, url }) }catch(e){} }
  else{ try{ await navigator.clipboard.writeText(`${t}
${d}
${url}`); toastMsg('–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä') }catch(e){ alert('–°–∫–æ–ø–∏—Ä—É–π –≤—Ä—É—á–Ω—É—é: '+t+' ‚Äî '+d) } }
});
</script>
</body>
</html>
